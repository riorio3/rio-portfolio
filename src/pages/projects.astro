---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import Nav from '../components/Nav.astro';
import ProjectCard from '../components/ProjectCard.astro';
import Footer from '../components/Footer.astro';

const projects = (await getCollection('projects')).sort((a, b) => a.data.order - b.data.order);
---

<BaseLayout title="Projects â€” Rio Zelaya">
  <Nav />
  <main class="pt-32 pb-20 px-6 max-w-5xl mx-auto">
    <h1 class="text-4xl font-bold text-white fade-in">Projects</h1>
    <p class="mt-4 text-[--color-muted] fade-in fade-in-delay-1">Things I've built.</p>
    <div class="mt-12 grid gap-6 sm:grid-cols-2 fade-in fade-in-delay-2">
      {projects.map(project => (
        <ProjectCard
          title={project.data.title}
          description={project.data.description}
          tags={project.data.tags}
          href={project.data.github || project.data.url}
        />
      ))}
    </div>
  </main>
  <Footer />
</BaseLayout>
